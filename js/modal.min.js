// https://github.com/Guidovv/Modal.js
"use strict";!function(){function t(t,o){var n;for(n in o)o.hasOwnProperty(n)&&(t[n]=o[n]);return t}window.Modal=function(){var o;this.close_button=null,this.modal=null,this.keyListenerFunc=null,this.transitionEnd=(o=document.createElement("div")).style.WebkitTransition?"webkitTransitionEnd":o.style.OTransition?"oTransitionEnd":"transitionend";var n={auto_open:!0,class:"",close_button:!0,close_button_inside_content:!1,content:"",center:!1,confirm_button:"",confirm_button_class_names:""};if(window.globalModalOptions&&(n=t(n,window.globalModalOptions)),this.options=t(n,arguments.length?arguments[0]:{}),this.options.auto_open){var e=this;setTimeout(function(){e.open()},0)}},Modal.prototype.close=function(t){var o,n=this;"function"==typeof this.beforeClose&&this.beforeClose(),this.modal.classList.remove("open"),document.body.classList.remove("has-modal"),document.body.removeEventListener("keyup",this.keyListenerFunc),this.modal.addEventListener(this.transitionEnd,function(){(o=n.modal.parentNode)&&o.removeChild(n.modal)}),"function"==typeof this.closed&&this.closed(t)},Modal.prototype.open=function(){document.body.classList.add("has-modal"),"function"==typeof this.beforeOpen&&this.beforeOpen(),function(){var t,o;t="string"==typeof this.options.content?this.options.content:this.options.content.innerHTML;this.modal=document.createElement("div"),this.modal.className="modal",this.options.class&&this.modal.classList.add(this.options.class);(o=document.createElement("div")).className="modal-content",this.options.center&&o.classList.add("center");o.innerHTML=t,!0===this.options.close_button&&(this.close_button=document.createElement("span"),this.close_button.className="close js-close",this.close_button.innerHTML="&#215;",this.options.close_button_inside_content?o.appendChild(this.close_button):this.modal.appendChild(this.close_button));if(this.options.confirm_button){const t=document.createElement("button");t.textContent=this.options.confirm_button,t.className="js-confirm-button "+this.options.confirm_button_class_names,o.appendChild(t)}this.modal.appendChild(o),document.body.appendChild(this.modal),!0===this.options.close_button&&(this.close_button=this.modal.querySelector(".js-close"));this.options.confirm_button&&(this.confirm_button=this.modal.querySelector(".js-confirm-button"))}.call(this),window.getComputedStyle(this.modal).height,function(){var t=this;this.close_button&&this.close_button.addEventListener("click",this.close.bind(t,!1));this.confirm_button&&this.confirm_button.addEventListener("click",this.close.bind(t,!0));this.modal.addEventListener(this.transitionEnd,function(o){"opacity"==o.propertyName&&"function"==typeof t.visible&&t.visible()},!1),this.modal.addEventListener("click",function(o){0!=o.target.classList.length&&function(t,o){if(0==o.length)return;return o.every(function(o){return t.classList.contains(o)})}(o.target,["modal","open"])&&t.close(!1)}),this.keyListenerFunc=function(t){27==t.which&&this.close(!1)}.bind(this),document.querySelector("body.has-modal").addEventListener("keyup",this.keyListenerFunc)}.call(this),this.modal.classList.add("open"),this.modal.offsetHeight>window.innerHeight&&this.modal.classList.add("absolute"),"function"==typeof this.opened&&this.opened()}}();
